Цель React Fiber — повысить его пригодность для таких областей, как анимация, макет и жесты. Его главная функция — **инкрементальный рендеринг** : возможность разбить работу по рендерингу на части и распределить ее по нескольким кадрам.

Другие ключевые функции включают возможность приостанавливать, прерывать или повторно использовать работу по мере поступления новых обновлений; возможность назначать приоритет различным типам обновлений; и новые примитивы параллелизма. Волокно представляет собой единицу **работы** . Рендеринг приложения React сродни вызову функции, тело которой содержит вызовы других функций и т. д. Эта аналогия полезна при размышлениях о волокнах.

Обычно компьютеры отслеживают выполнение программы с помощью [стека вызовов](https://en.wikipedia.org/wiki/Call_stack) . Когда функция выполняется, в стек добавляется новый **кадр стека** . Этот кадр стека представляет работу, выполняемую этой функцией.

При работе с пользовательскими интерфейсами проблема заключается в том, что если слишком много работы выполняется одновременно, это может привести к пропуску кадров и прерывистому виду анимации. Более того, часть этой работы может оказаться ненужной, если она заменена более поздним обновлением. Здесь сравнение между компонентами пользовательского интерфейса и функциями не работает, поскольку компоненты имеют более конкретные проблемы, чем функции в целом.

Новые браузеры (и React Native) реализуют API, которые помогают решить именно эту проблему: `requestIdleCallback`планируют вызов функции с низким приоритетом во время периода простоя и `requestAnimationFrame`планируют вызов функции с высоким приоритетом в следующем кадре анимации. Проблема в том, что для использования этих API вам нужен способ **разбить работу по рендерингу на инкрементные единицы**. Если вы полагаетесь только на стек вызовов, он будет продолжать выполнять работу до тех пор, пока стек не опустеет.

Разве не было бы здорово, если бы мы могли настраивать поведение стека вызовов для оптимизации рендеринга UI? Разве не было бы здорово, если бы мы могли прерывать стек вызовов по желанию и вручную манипулировать кадрами стека?

Мы достигли той главной цели архитектуры Fiber — позволить React воспользоваться планированием. Конкретно, нам нужно иметь возможность:
- остановить работу и вернуться к ней позже.
- приоритизировать разные типы работы.
- переиспользовать работу проделанную ранее.
- отменить работу, если она больше не нужна.

Чтобы все это сделать нам сначала потребуется разделить работу на единицы (units). В некотором смысле это и есть fiber (волокно). Волокно представляет единицу работы.

Это цель React Fiber. Fiber — это переопределение стека, специализированное для компонентов React. Вы можете представить себе отдельное волокно как **виртуальный стековый фрейм** .

Преимущество повторной реализации стека в том, что вы можете [хранить кадры стека в памяти](https://www.facebook.com/groups/2003630259862046/permalink/2054053404819731/) и выполнять их как угодно (и _когда угодно_ ). Это имеет решающее значение для достижения целей, которые мы имеем для планирования.

Помимо планирования, ручная работа с кадрами стека раскрывает потенциал таких функций, как параллелизм и границы ошибок.

## Структура «волокна»

Если говорить конкретно, то «волокно» это JavaScript обьект, который содержит информацию о компоненте, его вводе и выводе.
Волокно согласовано со стек-контейнером, но также оно согласовано с сущностью компонета.
Вот несколько важных свойств присущих «волокну» (Этот список не исчерпывающий):

https://github.com/acdlite/react-fiber-architecture
https://habr.com/ru/articles/444276/